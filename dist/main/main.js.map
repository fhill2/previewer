{"version":3,"file":"main.js","mappings":"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ACA;AACA,4BAA4B;AAC5B;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY;AACZ;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,iBAAiB;AACrC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;AC3LA,gBAAgB,0GAA4C;;AAE5D,IAAI,4CAAY;AAChB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;;;;;;;;;;AC3BA,cAAc,iEAA8B;AAC5C,kBAAkB,qEAAkC;;AAEpD;AACA;AACA,oPAAoP,kBAAkB;AACtQ;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,sBAAsB;AAClE,4CAA4C,oBAAoB;AAChE;AACA,6BAA6B,iBAAiB;AAC9C;AACA;AACA,GAAG;AACH;;AAEA;AACA,CAAC;;;;;;;;;;;;ACxCD;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;;;;;UEAA;UACA;UACA;UACA","sources":["webpack:///./src/main/main.js","webpack:///./src/main/util.js","webpack:///./src/main/pipe.js","webpack:///./src/main/i3wm.py","webpack:///./node_modules/mime-db/index.js","webpack:///./node_modules/mime-types/index.js","webpack:///./node_modules/node-ffprobe/index.js","webpack:///./node_modules/node-ffprobe/lib/ffprobe.js","webpack:///external node-commonjs \"child_process\"","webpack:///external node-commonjs \"electron\"","webpack:///external node-commonjs \"fs\"","webpack:///external node-commonjs \"os\"","webpack:///external node-commonjs \"path\"","webpack:///external node-commonjs \"url\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///webpack/runtime/publicPath","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["console.log(`Hello from Electron 👋`);\nrequire(\"file-loader?name=[name].[ext]!./pipe.js\");\nrequire(\"file-loader?name=[name].[ext]!./i3wm.py\");\n\nimport { app, BrowserWindow, protocol, screen } from \"electron\";\nimport { resolveHtmlPath } from \"./util\";\n\nimport path from \"path\";\nimport os from \"os\";\nimport mime from \"mime-types\";\nimport fs from \"fs\";\nimport child_process from \"child_process\";\n\n// for resizing electron window to video dimensions\nimport probe from \"node-ffprobe\";\n\n// ~/.config/previewer\nconst configDir = app.getPath(\"appData\");\nconst config = JSON.parse(\n  fs.readFileSync(path.join(configDir, \"previewer\", \"conf.json\"))\n);\n\nvar PREV_STATE = true;\nvar statusHeight = 25;\n\nfunction i3wm(actions) {\n  // move previewer to 0 0 of the current monitor its on\n  try {\n    // let childFile =\n    // process.env.NODE_ENV == 'production'\n    // ? 'i3wm.py'\n    // : path.join(__dirname, 'i3wm.py');\n\n    const i3wmCmd = `python ${path.join(__dirname, \"i3wm.py\")} ${actions}`;\n    const output = child_process.execSync(i3wmCmd);\n\n    if (output) console.log(`i3wm Output: ${output}`);\n  } catch (error) {\n    console.error(`i3wm Error: ${error}`);\n  }\n}\n\nfunction notifySend(msg) {\n  try {\n    const output = child_process.execSync(\"notify-send \" + msg);\n  } catch (error) {\n    console.error(`notify-send Error: ${error}`);\n  }\n}\n\nfunction getScreenWH() {\n  // get the current screen the electron application is on\n  const currentScreen = screen.getDisplayNearestPoint(\n    screen.getCursorScreenPoint()\n  );\n  return [currentScreen.workAreaSize.width, currentScreen.workAreaSize.height];\n}\n\nfunction limitImageVideoSize(width, height) {\n  // limits the size of the preview window when auto scaling videos and images\n  // if previewer width is more than half the width of the currernt screen\n  // scale the previewer window down to half the width of the current screen, maintaining aspect ratio.\n  const [screenW, screenH] = getScreenWH();\n  console.log(\"before limit: \", screenW, width, height);\n  if (width > screenW / 2) {\n    console.log(\"larger than half screen\");\n    console.log(\"calculated: \", width, height);\n    let aspect = width / height;\n    width = Math.floor(screenW / 2);\n    height = Math.floor(width / aspect);\n    console.log(\"new: \", width, height, aspect);\n  }\n\n  console.log(\"new: \", width, height);\n  return [width, height];\n}\n\nfunction resizeWinToVideo(fp) {\n  probe(fp).then((probeData) => {\n    const [width, height] = limitImageVideoSize(\n      probeData.streams[0].width,\n      probeData.streams[0].height\n    );\n    console.log(\"setting size: \", width, height);\n    win.setSize(width, height);\n  }).catch(console.error)\n}\n\nfunction setSize() {\n  // affects setting size on all previewers\n  // can add global limit functions here. such as keeping the window sm,\n}\n\nfunction mimeToPreviewer(fp) {\n  // decide the previewer to use for the file\n  const mimeType = mime.lookup(fp);\n  if (!mimeType) throw new Error(\"mimeType not found\");\n\n  console.log(\"main: \", mimeType);\n\n  if (mimeType.startsWith(\"video\")) {\n    resizeWinToVideo(fp);\n    return \"video\";\n  }\n\n  if (mimeType.startsWith(\"audio\")) {\n    win.setSize(500, 100);\n    return \"audio\";\n  }\n\n  if (mimeType.startsWith(\"image\")) {\n    resizeWinToVideo(fp);\n    return \"image\";\n  }\n\n  if (mimeType == \"application/pdf\") {\n    const [screenW, screenH] = getScreenWH();\n    win.setSize(Math.floor(screenW / 2), screenH - statusHeight);\n    return \"pdf\";\n  }\n\n  // if mimeType failed to detect, mimeType=false\n  if (mimeType.startsWith(\"text\")) {\n    // win.setSize(340, 2400)\n    return \"text\";\n  }\n}\n\nconst preview = (fp) => {\n  const filepath = fp.replace(/^~(?=$|\\/|\\\\)/, os.homedir());\n  if (!fs.existsSync(filepath)) {\n    console.log(\"DOES NOT EXIST - BLOCKING: \" + filepath);\n    return;\n  }\n\n  const stat = fs.statSync(filepath);\n  // if a directory, ignore for now\n  if (stat.isDirectory()) return;\n\n  let previewer;\n  try {\n    previewer = mimeToPreviewer(filepath);\n  } catch (e) {\n    console.log(e);\n    return;\n  }\n  console.log(\"previewer: \", previewer, filepath);\n  i3wm(\"move\");\n  win.webContents.send(\"custom-endpoint\", {\n    previewer: previewer,\n    filepath: filepath,\n  });\n};\n\nconst stopPreviewer = () => {\n  PREV_STATE = false;\n  notifySend(\"Stopping previewer...\");\n  i3wm(\"hide\");\n};\n\nconst startPreviewer = () => {\n  PREV_STATE = true;\n  notifySend(\"Starting previewer...\");\n  // i3wm('hide');\n};\n\nconst doAction = (action) => {\n  console.log(\"action: \", action);\n  switch (action) {\n    case \"toggle\":\n      if (PREV_STATE) {\n        stopPreviewer();\n      } else {\n        startPreviewer();\n      }\n      break;\n    case \"exit\" || \"quit\":\n      app.quit();\n      break;\n    case \"stop\":\n      stopPreviewer();\n      break;\n    case \"start\":\n      startPreviewer();\n      break;\n    default:\n  }\n};\n\nfunction setupIPC() {\n  // conditional file, otherwise production env does not find the dist file\n  // let childFile =\n  //   process.env.NODE_ENV == 'production'\n  //     ? 'release/app/dist/main/pipe.js'\n  //     : path.join(__dirname, 'pipe.js');\n  const p = child_process.fork(path.join(__dirname, \"pipe.js\"), [\"hello\"], {\n    stdio: [\"pipe\", \"pipe\", \"pipe\", \"ipc\"],\n  });\n  // p.stdout.on('data', (d) => {\n  // console.log(\"p.stdout.on: \", d)\n  // });\n  p.stderr.on(\"data\", (d) => {\n    console.log(\"error: \", d.toString());\n  });\n\n  p.on(\"message\", (m) => {\n    console.log(\"pipe->main: \", m);\n    let msg = m.replace(/\\n/g, \"\");\n    msg.includes(\"/\") && PREV_STATE == true ? preview(msg) : doAction(msg);\n  });\n  p.on(\"exit\", (code, sig) => {\n    console.log(\"exiting child process\");\n  });\n}\n\nfunction onRendererMsg(event, channel, res) {\n  console.log(`Received ${channel} message from renderer process`, res);\n  if (res.command == \"resize\") {\n    // setting width height in pixels from char count values is bad\n    // instead, set codemirror to autosize width and height, then get the size in pixels of the dom element\n    // then resize electron window with these values\n    // const screenBounds = screen.getDisplayMatching(win.getBounds()).size;\n    const [screenW, screenH] = getScreenWH();\n\n    let width = Math.round(res.data.width * 9);\n    let maxWidth = Math.round(screenW / 2);\n    if (width > screenW / 2) width = maxWidth;\n\n    // limit to height of screen\n    let height = Math.round(res.data.height * 19); // * to badly convert char count -> pixels until a better implementation\n    if (height > screenH) height = screenH;\n\n    // let appBounds = win.getBounds();\n    // let maxHeight = screenH - appBounds.y;\n\n    win.setSize(width, height - statusHeight);\n  }\n}\n\nlet win;\n\nconst createWindow = () => {\n  win = new BrowserWindow({\n    width: 1200,\n    height: 1200,\n    webPreferences: {\n      // if nodeIntegration: false, I have to use a preload script\n      // https://stackoverflow.com/questions/62433323/using-the-electron-ipcrenderer-from-a-front-end-javascript-file\n      nodeIntegration: true, // allows running node.js APIs in the renderer process\n      contextIsolation: false, // allow access to the require function in the renderer process\n      webSecurity: false, // allow loading local files in the renderer process\n\n      // worldSafeExecuteJavaScript: true, // This must be true\n      devtools: true,\n    },\n  });\n\n  if (app.isPackaged) {\n    win.loadFile(\"index.html\"); // prod\n  } else {\n    win.loadURL(\"http://localhost:3000\"); // dev\n  }\n  // win.loadURL()\n\n  // Add IPC listener on mainWindow instance\n  win.webContents.on(\"custom-endpoint\", (event, channel, data) =>\n    onRendererMsg(event, channel, data)\n  );\n\n  // Remove reference to mainWindow on close\n  win.on(\"closed\", () => {\n    win = null;\n  });\n\n  win.on(\"ready-to-show\", () => {\n    // win.minimize();\n    win.setMenu(null);\n    win.show();\n    win.webContents.openDevTools();\n    setupIPC();\n  });\n};\n\napp\n  .whenReady()\n  .then(() => {\n    createWindow();\n  })\n  .then(() => {\n    protocol.registerFileProtocol(\"file\", (request, callback) => {\n      const url = request.url.substr(7);\n      callback({ path: url });\n    });\n  })\n  .catch(console.error);\n","import { URL } from 'url';\nimport path from 'path';\n\nexport function resolveHtmlPath(htmlFileName) {\n  if (process.env.NODE_ENV === 'development') {\n    const port = process.env.PORT || 1212;\n    const url = new URL(`http://localhost:${port}`);\n    url.pathname = htmlFileName;\n    return url.href;\n  }\n  return `file://${path.resolve(__dirname, '../renderer/', htmlFileName)}`;\n}\n","export default __webpack_public_path__ + \"pipe.js\";","export default __webpack_public_path__ + \"i3wm.py\";","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","const ffprobe = module.exports = require('./lib/ffprobe.js')\n\nif (require.main === module) {\n\tconst exit = function (code, msg) {\n\t\tprocess.nextTick(() => process.exit(code))\n\n\t\tif (code !== 0) console.error(msg)\n\t\telse console.log(msg)\n\t}\n\n\tconst args = process.argv.slice(2)\n\n\tif (args.length === 0)\n\t\treturn exit(1, \"Usage: node index.js /path/to/audio/file.mp3\");\n\n\t!async function probeFile(file) {\n\t\tif (!file) return exit(0, 'Finished probing all files')\n\t\ttry {\n\t\t\tconst results = await ffprobe(file)\n\t\t\t\n\t\t\tconsole.log('%s\\n========================================\\n%s\\n\\n', file, JSON.stringify(results, null, '   '))\n\t\n\t\t\tprobeFile(args.shift())\n\t\t} catch(err) {\n\t\t\tconsole.log(err)\n\t\t}\n\t}(args.shift())\n}","const spawn = require('child_process').spawn\nconst spawnSync = require('child_process').spawnSync\n\nmodule.exports = (function () {\n\tfunction doProbeSync(file) {\n\t\tlet proc = spawnSync(module.exports.FFPROBE_PATH || 'ffprobe', ['-hide_banner', '-loglevel', 'fatal', '-show_error', '-show_format', '-show_streams', '-show_programs', '-show_chapters', '-show_private_data', '-print_format', 'json', file], { encoding: 'utf8' })\n\t\tlet probeData = []\n\t\tlet errData = []\n\t\tlet exitCode = null\n\n\t\tprobeData.push(proc.stdout)\n\t\terrData.push(proc.stderr)\n\n\t\texitCode = proc.status\n\n\t\tif (proc.error) throw new Error(proc.error)\n\t\tif (exitCode) throw new Error(errData.join(''))\n\n\t\treturn JSON.parse(probeData.join(''))\n\t}\n\n\tfunction doProbe(file) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet proc = spawn(module.exports.FFPROBE_PATH || 'ffprobe', ['-hide_banner', '-loglevel', 'fatal', '-show_error', '-show_format', '-show_streams', '-show_programs', '-show_chapters', '-show_private_data', '-print_format', 'json', file])\n\t\t\tlet probeData = []\n\t\t\tlet errData = []\n\t\n\t\t\tproc.stdout.setEncoding('utf8')\n\t\t\tproc.stderr.setEncoding('utf8')\n\t\n\t\t\tproc.stdout.on('data', function (data) { probeData.push(data) })\n\t\t\tproc.stderr.on('data', function (data) { errData.push(data) })\n\t\n\t\t\tproc.on('exit', code => { exitCode = code })\n\t\t\tproc.on('error', err => reject(err))\n\t\t\tproc.on('close', () => resolve(JSON.parse(probeData.join(''))))\n\t\t})\n\t}\n\n\treturn module.exports.SYNC ? doProbeSync : doProbe\n})()\n","module.exports = require(\"child_process\");","module.exports = require(\"electron\");","module.exports = require(\"fs\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"url\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"\";","","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/main/main.js\");\n",""],"names":["console","log","require","app","BrowserWindow","protocol","screen","resolveHtmlPath","path","os","mime","fs","child_process","probe","configDir","getPath","config","JSON","parse","readFileSync","join","PREV_STATE","statusHeight","i3wm","actions","i3wmCmd","concat","__dirname","output","execSync","error","notifySend","msg","getScreenWH","currentScreen","getDisplayNearestPoint","getCursorScreenPoint","workAreaSize","width","height","limitImageVideoSize","_getScreenWH","_getScreenWH2","_slicedToArray","screenW","screenH","aspect","Math","floor","resizeWinToVideo","fp","then","probeData","_limitImageVideoSize","streams","_limitImageVideoSize2","win","setSize","mimeToPreviewer","mimeType","lookup","Error","startsWith","_getScreenWH3","_getScreenWH4","preview","filepath","replace","homedir","existsSync","stat","statSync","isDirectory","previewer","e","webContents","send","stopPreviewer","startPreviewer","doAction","action","quit","setupIPC","p","fork","stdio","stderr","on","d","toString","m","includes","code","sig","onRendererMsg","event","channel","res","command","_getScreenWH5","_getScreenWH6","round","data","maxWidth","createWindow","webPreferences","nodeIntegration","contextIsolation","webSecurity","devtools","isPackaged","loadFile","loadURL","setMenu","show","openDevTools","whenReady","registerFileProtocol","request","callback","url","substr","URL","htmlFileName","process","env","NODE_ENV","port","PORT","pathname","href","resolve"],"sourceRoot":""}